<!--Este apartado es el formulario para el envío de correo electronico, donde 
esta llamando las clases del controlador emailJSFManagedBean donde trae cada opcion, de,para
asunto,smo,usuario,contraseña.etc... la entidad emailJSFManagedBean se encarga de traer el formato de fecha y
la fecha -->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/template.xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="bodyContent">
        <h:form id="pollfrml">
            <p:outputLabel value="Fecha: "></p:outputLabel>
            <p:outputLabel id="tiempo" value="#{serverTimeBean.time}" ></p:outputLabel>
            <p:poll interval="1" listener="#{serverTimeBean.updateTime()}" update="tiempo"></p:poll>
        </h:form>
        <h:form id="emailForm">
            <p:messages id="messages" severity="error" showDetail="true" ></p:messages>
            <div style="text-align: center">
               
                <p:panel header="Formulario de Email">
                    <h:panelGrid columns="3" >
                        <p:outputLabel value="DE:"></p:outputLabel>
                        <p:inputText value="#{emailJSFManagedBean.from}"
                                     validator="#{emailJSFManagedBean.validateEmail}"
                                     label="from"
                                     id="from"
                                     size="50">
                        </p:inputText>
                        <p:message for="from" style="color:red"></p:message>
                        <p:outputLabel value="PARA:"></p:outputLabel>
                        <p:inputText value="#{emailJSFManagedBean.to}" required="true"
                                     validator="#{emailJSFManagedBean.validateEmail}"
                                     label="to"
                                     id="to"
                                     size="50">
                        </p:inputText>
                        <p:message for="to" style="color:red"></p:message>

                        <p:outputLabel value="ASUNTO"></p:outputLabel>
                        <p:inputText value="#{emailJSFManagedBean.subject}"
                                     validatorMessage="Requiere el Asunto"
                                     label="subject"
                                     id="subject"
                                     size="50">
                        </p:inputText>
                        <p:message for="subject" style="color:red"></p:message>

                        <p:outputLabel value="SMTP"></p:outputLabel>
                        <p:inputText value="#{emailJSFManagedBean.smtp}"
                                     validatorMessage="SMTP Requiere una dirección IP"
                                     id="smtp"
                                     size="50">
                            <f:validateRequired for="smtp"></f:validateRequired>
                        </p:inputText>
                        <p:message for="smtp" style="color:red"></p:message>

                        <p:outputLabel value="USUARIO"></p:outputLabel>
                        <p:inputText value="#{emailJSFManagedBean.username}"
                                     id="usuario"
                                     size="50">
                        </p:inputText>
                        <p:message for="usuario" style="color:red"></p:message>

                        <p:outputLabel value="PASSWORD"></p:outputLabel>
                        <p:inputText value="#{emailJSFManagedBean.password}"
                                     id="password"
                                     type="password"
                                     size="50">
                        </p:inputText>
                        <p:message for="password" style="color:red"></p:message>

                        <p:outputLabel value="PUERTO"></p:outputLabel>
                        <p:inputText value="#{emailJSFManagedBean.port}"
                                     style="margin-right: 50px"
                                     id="puerto"
                                     size="50">
                        </p:inputText>
                        <p:message for="puerto" style="color:red"></p:message>

                        <p:outputLabel value="MENSAJE"></p:outputLabel>
                        <p:inputTextarea  id="descr"
                                          cols="50"
                                          rows="5"
                                          value="#{emailJSFManagedBean.descr}">
                        </p:inputTextarea>
                        <p:message for="descr" style="color:red"></p:message>
                        <p:commandButton action="#{emailJSFManagedBean.submitEmail}" 
                                         value="Enviar"
                                         id="submit">
                        </p:commandButton>

                    </h:panelGrid>
                </p:panel>
            </div>
        </h:form>
    </ui:define>
</ui:composition>